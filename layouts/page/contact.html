{{ define "main" }}
    {{ $lang := .Site.Language.Lang }}
    {{ $contributorsPath := printf "contributors_%s" $lang }}
    {{ $supportPath := printf "support_%s" $lang }}

    <div class="text-gray-900 dark:text-gray-100 mt-8 grid items-start lg:grid-cols-2 gap-6 lg:gap-16">
        <!-- Contributors section -->
        <ul role="list"
            class="bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-800 overflow-hidden shadow-sm ring-1 ring-gray-900/5 sm:rounded-xl not-prose">
            {{ range index .Site.Data.contributors $contributorsPath }}
            <li class="relative flex justify-between gap-x-6 px-4 py-5 sm:px-6">
                <div class="flex w-full gap-x-4">
                    <div class="min-w-0 flex-auto">
                        <div class="flex justify-between">
                            <a class="contributor-mail text-sm font-semibold leading-6 text-blue-700 dark:text-blue-300 hover:underline"
                               href="mailto:{{ .mail }}">
                                {{ .name }}
                            </a>
                            <div class="justify-end">
                                <p class="contributor-contributions mt-1 flex gap-1 text-xs leading-5">
                                    {{ range .contributions }}
                                    <span class="inline-flex items-center rounded-md bg-blue-50 dark:bg-blue-900 text-blue-700 dark:text-blue-300 ring-blue-700/10 dark:ring-blue-300/10 px-2 py-1 text-xs ring-1 ring-inset">
                                        {{ . }}
                                    </span>
                                    {{ end }}
                                </p>
                            </div>
                        </div>
                        <p class="mt-1 flex flex-col text-sm leading-6">
                            {{ $firm := .firm | markdownify }}
                            {{ $firm := replace $firm "\n" "<br>" | safeHTML }}
                            <span>{{ $firm | safeHTML }}</span>
                            <a class="w-fit text-sm font-semibold leading-6 text-blue-700 dark:text-blue-300 hover:underline"
                               href="{{ .url }}" target="_blank">
                                {{ .department }}
                            </a>
                        </p>
                    </div>
                </div>
            </li>
            {{ end }}
        </ul>

        <!-- Support section -->
        <div class="support-container divide-y divide-gray-200 dark:divide-gray-800">
            {{ range index .Site.Data.support $supportPath }}
            <div class="support-item flex gap-x-7 py-6 first:pt-0">
                <svg class="support-icon shrink-0 size-6 mt-1.5" width="24" height="24">
                    <use href="#{{ .icon }}"/>
                </svg>
                <div class="grow">
                    <h3 class="support-title font-semibold">{{ .title }}</h3>
                    <p class="support-description mt-1 text-sm text-gray-600 dark:text-neutral-400">{{ .description }}</p>
                    {{ if .url }}
                    <a class="support-link mt-2 inline-flex items-center gap-x-2 text-sm font-medium text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 hover:underline focus:outline-none"
                       href="{{ .url | relLangURL }}" target="_parent">
                        {{ .contact }}
                        <svg class="shrink-0 size-3.5">
                            <use href="#arrow-right"/>
                        </svg>
                    </a>
                    {{ end }}
                </div>
            </div>
            {{ end }}
        </div>
    </div>
{{ end }}
